#Data types and Queries
scalar Time

type PlayerNFL {
  id: ID!
  overallRank: Int!
  playerName: String!
  position: String!
  positionRank: Int!
  teamNFL: String!  
  birthday: String!
  avatar: String!
}

directive @hasRole(role: Role!) on FIELD_DEFINITION

enum Role {
  ADMIN
  LEAGUE_MANAGER
  LEAGUE_MEMBER
  TEAM_OWNER
}

type Query {
  users: [User]
  leagues: [League]
  league(leagueId: ID): League
  teams(leagueId: ID): [Team!] @hasRole(role: LEAGUE_MEMBER)
  teamById(leagueId: ID!, teamId: ID!): Team @hasRole(role: LEAGUE_MEMBER)
  teamContracts(leagueId: ID, teamId: ID): [Contract!]
  players(numOfResults: Int): [PlayerNFL!]
  player(playerId: ID): PlayerNFL!
  userPreferences(userId: ID): UserPreferences
  getUserRoles(userId:ID): [UserRoles]
}

#Mutations and Inputs
input NewUser {
  ownerName: String!
  email: String!
  avatar: String!
}

input NewPlayerNFL {
  playerName: String!
  position: String!
  positionRank: Int
  teamNFL: String
  birthday: String
  avatar: String
  overallRank: Int
}

type Mutation {
  createUser(input: NewUser!): User!
  createTeam(leagueId: ID, input: NewTeam!): Team!
  updateTeamMetaData(leagueId: ID!, teamId: ID!): Team!
  createContract(leagueId: ID, input: ContractInput): Contract!
  createPlayer(input: NewPlayerNFL!): PlayerNFL!
  createUserRole(leagueId: ID, newUserRole: NewUserRole): UserRoles!
}